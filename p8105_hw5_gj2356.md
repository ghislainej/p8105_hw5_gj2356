Homework 5
================
2023-11-15

## PROBLEM 1

The code chunk below reads in the Washington Post homicide data, and
creates a new variable `city_state` that combines the city and state
information.

``` r
urlfile = "https://raw.githubusercontent.com/washingtonpost/data-homicides/master/homicide-data.csv"

homicide = read_csv(url(urlfile)) |>
          janitor::clean_names() |>
          mutate(
            city_state = paste(city, state, sep = ", ")
          )
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

There are 52179 observations and 13 variables in the homicide dataset
detailing homicides in 50 states over a 10 year period (January 2007 to
December 2017). Variables include date of homicide (`reported_date`),
name of victim (`victim_last` and `victim_first`), victim demographics
(`victim_race`, `victim_sex`, and `victim_age`), where the crime
occurred (`city`, `state`, `city_state`, `lat`, `long`), as well as the
status of the case - whether the case is open or closed and if there has
been an arrest (`disposition`).

``` r
#number of homicides by city
homicide |>
  group_by(city_state) |> 
  summarize(n = n()) |> 
  knitr::kable()
```

| city_state         |    n |
|:-------------------|-----:|
| Albuquerque, NM    |  378 |
| Atlanta, GA        |  973 |
| Baltimore, MD      | 2827 |
| Baton Rouge, LA    |  424 |
| Birmingham, AL     |  800 |
| Boston, MA         |  614 |
| Buffalo, NY        |  521 |
| Charlotte, NC      |  687 |
| Chicago, IL        | 5535 |
| Cincinnati, OH     |  694 |
| Columbus, OH       | 1084 |
| Dallas, TX         | 1567 |
| Denver, CO         |  312 |
| Detroit, MI        | 2519 |
| Durham, NC         |  276 |
| Fort Worth, TX     |  549 |
| Fresno, CA         |  487 |
| Houston, TX        | 2942 |
| Indianapolis, IN   | 1322 |
| Jacksonville, FL   | 1168 |
| Kansas City, MO    | 1190 |
| Las Vegas, NV      | 1381 |
| Long Beach, CA     |  378 |
| Los Angeles, CA    | 2257 |
| Louisville, KY     |  576 |
| Memphis, TN        | 1514 |
| Miami, FL          |  744 |
| Milwaukee, wI      | 1115 |
| Minneapolis, MN    |  366 |
| Nashville, TN      |  767 |
| New Orleans, LA    | 1434 |
| New York, NY       |  627 |
| Oakland, CA        |  947 |
| Oklahoma City, OK  |  672 |
| Omaha, NE          |  409 |
| Philadelphia, PA   | 3037 |
| Phoenix, AZ        |  914 |
| Pittsburgh, PA     |  631 |
| Richmond, VA       |  429 |
| Sacramento, CA     |  376 |
| San Antonio, TX    |  833 |
| San Bernardino, CA |  275 |
| San Diego, CA      |  461 |
| San Francisco, CA  |  663 |
| Savannah, GA       |  246 |
| St. Louis, MO      | 1677 |
| Stockton, CA       |  444 |
| Tampa, FL          |  208 |
| Tulsa, AL          |    1 |
| Tulsa, OK          |  583 |
| Washington, DC     | 1345 |

``` r
#number of unsolved homicides by city
homicide |> 
  mutate(
    status = case_match(disposition,
                        c("Closed without arrest","Open/No arrest") ~ "unsolved",
                        .default = "solved")
  ) |> 
  filter(status == "unsolved") |> 
  group_by(city_state, status) |> 
  summarize(n = n()) |> 
  knitr::kable()
```

    ## `summarise()` has grouped output by 'city_state'. You can override using the
    ## `.groups` argument.

| city_state         | status   |    n |
|:-------------------|:---------|-----:|
| Albuquerque, NM    | unsolved |  146 |
| Atlanta, GA        | unsolved |  373 |
| Baltimore, MD      | unsolved | 1825 |
| Baton Rouge, LA    | unsolved |  196 |
| Birmingham, AL     | unsolved |  347 |
| Boston, MA         | unsolved |  310 |
| Buffalo, NY        | unsolved |  319 |
| Charlotte, NC      | unsolved |  206 |
| Chicago, IL        | unsolved | 4073 |
| Cincinnati, OH     | unsolved |  309 |
| Columbus, OH       | unsolved |  575 |
| Dallas, TX         | unsolved |  754 |
| Denver, CO         | unsolved |  169 |
| Detroit, MI        | unsolved | 1482 |
| Durham, NC         | unsolved |  101 |
| Fort Worth, TX     | unsolved |  255 |
| Fresno, CA         | unsolved |  169 |
| Houston, TX        | unsolved | 1493 |
| Indianapolis, IN   | unsolved |  594 |
| Jacksonville, FL   | unsolved |  597 |
| Kansas City, MO    | unsolved |  486 |
| Las Vegas, NV      | unsolved |  572 |
| Long Beach, CA     | unsolved |  156 |
| Los Angeles, CA    | unsolved | 1106 |
| Louisville, KY     | unsolved |  261 |
| Memphis, TN        | unsolved |  483 |
| Miami, FL          | unsolved |  450 |
| Milwaukee, wI      | unsolved |  403 |
| Minneapolis, MN    | unsolved |  187 |
| Nashville, TN      | unsolved |  278 |
| New Orleans, LA    | unsolved |  930 |
| New York, NY       | unsolved |  243 |
| Oakland, CA        | unsolved |  508 |
| Oklahoma City, OK  | unsolved |  326 |
| Omaha, NE          | unsolved |  169 |
| Philadelphia, PA   | unsolved | 1360 |
| Phoenix, AZ        | unsolved |  504 |
| Pittsburgh, PA     | unsolved |  337 |
| Richmond, VA       | unsolved |  113 |
| Sacramento, CA     | unsolved |  139 |
| San Antonio, TX    | unsolved |  357 |
| San Bernardino, CA | unsolved |  170 |
| San Diego, CA      | unsolved |  175 |
| San Francisco, CA  | unsolved |  336 |
| Savannah, GA       | unsolved |  115 |
| St. Louis, MO      | unsolved |  905 |
| Stockton, CA       | unsolved |  266 |
| Tampa, FL          | unsolved |   95 |
| Tulsa, OK          | unsolved |  193 |
| Washington, DC     | unsolved |  589 |
